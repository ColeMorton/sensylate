# Fundamental Analyst Validate Manifest
# DASV Phase 4: Quality Assurance and Confidence Verification

command:
  name: "fundamental_analyst_validate"
  version: "1.0.0"
  type: "microservice"
  role: "fundamental_analyst"
  action: "validate"
  framework: "DASV"
  description: "Quality assurance and confidence verification for fundamental analysis"
  command_file: "/Users/colemorton/Projects/sensylate/team-workspace/microservices/fundamental_analyst/validate.md"

capabilities:
  reads:
    - fundamental_analysis_document
    - analysis_metadata
    - validation_checklists
    - market_data_validation
    - institutional_standards
    - quality_gates

  produces:
    - validation_report
    - quality_assessment
    - confidence_verification
    - institutional_compliance_check
    - reliability_score
    - validation_summary

dependencies:
  required:
    - command: "fundamental_analyst_synthesize"
      output_type: "fundamental_analysis_document"
      enhancement: "Provides generated analysis document for validation"
  optional: []
  external_apis:
    - "Yahoo Finance API (for real-time validation)"
  conflicts: []

data_schema:
  inputs:
    fundamental_analysis_document:
      type: "string"
      required: true
      description: "Path to generated analysis file"
      validation: "file_path_validation"
    ticker:
      type: "string"
      required: true
      validation: "uppercase_stock_symbol"
    confidence_threshold:
      type: "float"
      required: false
      default: 0.7
      range: [0.6, 0.8]
    validation_depth:
      type: "string"
      required: false
      default: "comprehensive"
      options: ["standard", "comprehensive", "institutional"]
    real_time_validation:
      type: "boolean"
      required: false
      default: true

  outputs:
    validation_report:
      type: "json"
      location: "/team-workspace/microservices/fundamental_analyst/validate/outputs/"
      filename_pattern: "{ticker}_{YYYYMMDD}_validation.json"
      schema: "validation_report_schema_v1"
      metadata_required: true

collaboration:
  consumption_pattern: "validation_driven"
  pre_execution_behavior:
    - "Load and parse fundamental analysis document"
    - "Extract ticker symbol and analysis metadata"
    - "Initialize validation frameworks and checklists"
    - "Prepare real-time data sources for verification"

  output_sharing: "immediate"
  post_execution_behavior:
    - "Generate comprehensive validation report"
    - "Calculate overall reliability score"
    - "Identify critical issues and recommendations"
    - "Log validation performance metrics"
    - "Signal completion to team workspace"

  cache_strategy: "validation_caching"
  cache_duration: "6h"

  notification_events:
    - event: "validation_completed"
      notify: ["team_workspace"]
      payload: ["validation_report", "reliability_score"]
    - event: "critical_issues_found"
      notify: ["fundamental_analyst_synthesize"]
      payload: ["critical_issues", "improvement_recommendations"]
    - event: "institutional_standards_violated"
      notify: ["team_workspace"]
      payload: ["compliance_violations", "corrective_actions"]

quality_standards:
  validation_criteria:
    - "Financial metrics cross-validated with primary sources"
    - "Investment thesis coherence and logic verified"
    - "Confidence scores format compliance confirmed"
    - "Institutional quality standards met"
    - "Real-time market data validation complete"

  output_requirements:
    - "Comprehensive validation report with reliability score"
    - "Critical issues identification and prioritization"
    - "Evidence-based quality assessment"
    - "Institutional compliance verification"
    - "Actionable improvement recommendations"

performance_characteristics:
  typical_execution_time: "25s"
  complexity_factors:
    - "Document length and analysis depth"
    - "Number of financial metrics to validate"
    - "Real-time data verification requirements"
    - "Institutional standards assessment scope"

  optimization_strategies:
    - "Parallel validation of independent sections"
    - "Cached validation results for repeated checks"
    - "Efficient real-time data retrieval"
    - "Optimized document parsing algorithms"

integration_patterns:
  workflow_chains:
    - name: "fundamental_analysis_full"
      position: "fourth"
      previous_service: "fundamental_analyst_synthesize"
      next_service: "none"
      trigger: "synthesis_completed"

  data_flow:
    incoming:
      - "Fundamental analysis document from synthesize phase"
      - "Document metadata and quality metrics"
      - "Real-time market data for validation"
    outgoing:
      - "Validation report to team workspace"
      - "Quality assessment to performance metrics"
      - "Reliability score to collaboration engine"

# Validation Frameworks
validation_frameworks:
  financial_metrics_validation:
    accuracy_verification:
      - "cross_validation_with_sec_filings"
      - "peer_comparison_accuracy"
      - "ratio_calculation_verification"
      - "historical_data_consistency"
    data_quality_assessment:
      - "source_reliability_scoring"
      - "data_freshness_validation"
      - "completeness_measurement"
      - "consistency_cross_check"

  investment_thesis_validation:
    coherence_assessment:
      - "logic_consistency_check"
      - "evidence_backing_verification"
      - "assumption_reasonableness"
      - "recommendation_alignment"
    methodology_validation:
      - "valuation_approach_appropriateness"
      - "scenario_analysis_validity"
      - "risk_assessment_completeness"
      - "catalyst_probability_methodology"

  institutional_quality_validation:
    professional_standards:
      - "template_compliance_verification"
      - "author_attribution_consistency"
      - "formatting_standards_check"
      - "publication_readiness_assessment"
    confidence_score_validation:
      - "format_compliance_check"
      - "methodology_assessment"
      - "consistency_verification"
      - "attribution_validation"

# Validation Quality Gates
validation_quality_gates:
  mandatory_checks:
    - "Financial metrics cross-validated with SEC filings"
    - "Valuation methodology appropriate for company/industry"
    - "Peer group composition justified and size-adjusted"
    - "Risk assessment quantified with probabilities"
    - "Confidence scores use 0.0-1.0 format throughout"
    - "Investment thesis internally consistent"
    - "Scenario analysis mathematically correct"
    - "Data sources clearly attributed with quality scores"
    - "Professional template compliance verified"
    - "Single file output in correct location"

  real_time_validation:
    - "Stock price current as of analysis date"
    - "Market cap calculations accurate"
    - "Trading volume and liquidity assessment current"
    - "Financial statement data is most recent available"
    - "Peer comparison data synchronized"
    - "Economic indicators current and relevant"
    - "Industry dynamics reflect latest developments"
    - "Regulatory environment up to date"

# Topic Ownership Configuration
topic_ownership:
  primary_topics:
    - "validation-methodology"
    - "quality-assurance"
    - "institutional-compliance"
    - "reliability-scoring"

  secondary_topics:
    - "real-time-validation"
    - "confidence-verification"

  collaboration_permissions:
    read_access: ["team_workspace"]
    write_access: ["fundamental_analyst_validate"]
    coordination_required: ["fundamental_analyst_synthesize"]
