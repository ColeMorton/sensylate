name: fundamental_analyst_synthesize
version: 1.0.0
description: Phase 3 of DASV - Investment thesis and valuation synthesis
phase: synthesize
phase_number: 3

inputs:
  ticker:
    type: string
    required: true
    description: Stock symbol to analyze
  discovery_data:
    type: json
    required: true
    source: discover/outputs/discover_{ticker}_{date}.json
  analysis_data:
    type: json
    required: true
    source: analyze/outputs/analyze_{ticker}_{date}.json

outputs:
  synthesis_data:
    type: json
    location: outputs/synthesize_{ticker}_{date}.json
    schema:
      - valuation
      - investment_thesis
      - scenario_analysis
  final_analysis:
    type: markdown
    location: ../../data/outputs/fundamental_analysis/{ticker}_{date}.md
    description: Institutional-quality investment analysis document

dependencies:
  - numpy
  - discover phase completion
  - analyze phase completion

validation:
  document_min_length: 5000
  required_sections:
    - Executive Summary
    - Financial Analysis
    - Investment Thesis
    - Valuation Analysis
    - Risk Assessment
  author_attribution: Cole Morton
